poblacion <- round(runif(400000,5,90), 0)
head(poblacion)
mean(muestra)
muestra <- sample(poblacion, size=20, replace=FALSE)
mean(muestra)
muestra <- sample(poblacion, size=20, replace=FALSE)
mean(muestra)
n <- 100
media_muestral <- matrix(0, n, 1)
for (i in 1:n)
{
media_muestral[i, 1]=mean(sample(poblacion, size=100, replace=FALSE))
}
View(media_muestral)
hist(media_muestral, n=30)
for (i in 1:n)
{
media_muestral[i, 1]=mean(sample(poblacion, size=100, replace=FALSE))
}
hist(media_muestral, n=30)
library(lifecontingencies)
install.packages('markovchain')
setwd("C:/Users/Andrey/OneDrive/Documents/Universidad/IIS-2023/Estadística Actuarial I/Proyecto/Proyecto_Estadistica")
library(tidyverse)
library(ggplot2)
library(readxl)
library(xtable)
library(cowplot)
#data incial
data = read.csv('cultivos_global.csv')
data_limpia = data %>%
select(c('Área', 'Elemento', 'Producto', 'Año', 'Unidad', 'Valor')) %>%
mutate(Valor = Valor/10000)
#tabla1
prod_ban = data_limpia %>%
filter(Elemento == 'Producción' & Producto == 'Bananos')
prod_ban_gr = prod_ban %>%
filter(Área %in% c('Costa Rica', 'Colombia', 'Ecuador')) %>%
mutate(quinquenio = as.integer(cut(Año, breaks = seq(1960, 2025, by = 5)))) %>%
group_by(quinquenio, Área)
tabla1 = summarise(prod_ban_gr, minimo=min(Valor, na.rm = TRUE),
promedio=mean(Valor), maximo=max(Valor, na.rm = TRUE),
sd=sd(Valor), median=quantile(Valor, 0.5),
q1=quantile(Valor, 0.25), q3=quantile(Valor, 0.75)
)
quinq <- c('1960-1964', '1965-1969', '1970-1974', '1975-1979', '1980-1984',
'1985-1989', '1990-1994', '1995-1999', '2000-2004', '2005-2009',
'2010-2014', '2015-2019', '2020-2024')
tabla1$quinquenio <- quinq[match(tabla1$quinquenio, 1:13)]
tabla1 <- tabla1[with(tabla1, order(tabla1$Área)), c(2, 1, 3, 4, 5, 6, 7, 8, 9)]
tabla1_id_quin <- tabla1 %>% pivot_wider(id_cols = quinquenio, names_from = Área,
values_from = c(sd, promedio, maximo, minimo, q1, median, q3) )
tabla1_id_area <- tabla1 %>%
pivot_longer(cols = c(sd, promedio, maximo, minimo, q1, median, q3),
names_to = 'Estadístico', values_to = 'Valor') %>%
pivot_wider(id_cols = c(Área, Estadístico), names_from = quinquenio, values_from = Valor)
t1 <- prod_ban_gr %>%
summarise(promedio=mean(Valor))
t1 <- t1 %>%
pivot_wider(id_cols = quinquenio, names_from = Área, values_from = promedio )
t1$quinquenio <- quinq[match(t1$quinquenio, 1:13)]
prod_pin = data_limpia %>%
filter(Elemento == 'Producción' & Producto == 'Piña tropical')
prod_pin_gr = prod_pin %>%
filter(Área %in% c('Costa Rica', 'Brasil', 'Filipinas')) %>%
mutate(quinquenio = as.integer(cut(Año, breaks = seq(1960, 2025, by = 5)))) %>%
group_by(quinquenio, Área)
tabla2 = summarise(prod_pin_gr, minimo=min(Valor, na.rm = TRUE),
promedio=mean(Valor), maximo=max(Valor, na.rm = TRUE),
sd=sd(Valor), median=quantile(Valor, 0.5),
q1=quantile(Valor, 0.25), q3=quantile(Valor, 0.75)
)
quinq <- c('1960-1964', '1965-1969', '1970-1974', '1975-1979', '1980-1984',
'1985-1989', '1990-1994', '1995-1999', '2000-2004', '2005-2009',
'2010-2014', '2015-2019', '2020-2024')
tabla2$quinquenio <- quinq[match(tabla2$quinquenio, 1:13)]
tabla2 <- tabla2[with(tabla2, order(tabla2$Área)), c(2, 1, 3, 4, 5, 6, 7, 8, 9)]
tabla2_id_quin <- tabla1 %>% pivot_wider(id_cols = quinquenio, names_from = Área,
values_from = c(sd, promedio, maximo, minimo, q1, median, q3) )
tabla2_id_area <- tabla2 %>%
pivot_longer(cols = c(sd, promedio, maximo, minimo, q1, median, q3),
names_to = 'Estadístico', values_to = 'Valor') %>%
pivot_wider(id_cols = c(Área, Estadístico), names_from = quinquenio, values_from = Valor)
t2 <- prod_pin_gr %>%
summarise(promedio=mean(Valor))
t2 <- t2 %>%
pivot_wider(id_cols = quinquenio, names_from = Área, values_from = promedio )
t2$quinquenio <- quinq[match(t2$quinquenio, 1:13)]
prod_caf = data_limpia %>%
filter(Elemento == 'Producción' & Producto == 'Café, verde')
prod_caf_gr = prod_caf %>%
filter(Área %in% c('Costa Rica', 'Brasil', 'Viet Nam')) %>%
mutate(quinquenio = as.integer(cut(Año, breaks = seq(1960, 2025, by = 5)))) %>%
group_by(quinquenio, Área)
tabla3 = summarise(prod_caf_gr, minimo=min(Valor, na.rm = TRUE),
promedio=mean(Valor), maximo=max(Valor, na.rm = TRUE),
sd=sd(Valor), median=quantile(Valor, 0.5),
q1=quantile(Valor, 0.25), q3=quantile(Valor, 0.75)
)
quinq <- c('1960-1964', '1965-1969', '1970-1974', '1975-1979', '1980-1984',
'1985-1989', '1990-1994', '1995-1999', '2000-2004', '2005-2009',
'2010-2014', '2015-2019', '2020-2024')
tabla3$quinquenio <- quinq[match(tabla3$quinquenio, 1:13)]
tabla3 <- tabla3[with(tabla3, order(tabla3$Área)), c(2, 1, 3, 4, 5, 6, 7, 8, 9)]
tabla3_id_quin <- tabla3 %>% pivot_wider(id_cols = quinquenio, names_from = Área,
values_from = c(sd, promedio, maximo, minimo, q1, median, q3) )
tabla3_id_area <- tabla3 %>%
pivot_longer(cols = c(sd, promedio, maximo, minimo, q1, median, q3),
names_to = 'Estadístico', values_to = 'Valor') %>%
pivot_wider(id_cols = c(Área, Estadístico), names_from = quinquenio, values_from = Valor)
t3 <- prod_caf_gr %>%
summarise(promedio=mean(Valor))
t3 <- t3 %>%
pivot_wider(id_cols = quinquenio, names_from = Área, values_from = promedio )
t3$quinquenio <- quinq[match(t3$quinquenio, 1:13)]
# plots
options(scipen= 999)
#Dimensiones para todos los gráficos
h<-5
w<-h*1.6
# plot 1
prod_ban_pai <- prod_ban %>%
filter(Área %in% c('Costa Rica', 'Colombia', 'Ecuador'))
ggplot(prod_ban_pai, mapping = aes(x=Área, y=Valor, color=Área)) +
geom_boxplot() +
labs(x = "País",
y = "Producción",
title=" ",
color = 'País')+
theme_cowplot(12)
## ANTEPROYECTO
# plots
options(scipen= 999)
#Dimensiones para todos los gráficos
h<-5
w<-h*1.6
# plot 1
prod_ban_pai <- prod_ban %>%
filter(Área %in% c('Costa Rica', 'Colombia', 'Ecuador'))
ggplot(prod_ban_pai, mapping = aes(x=Área, y=Valor, color=Área)) +
geom_boxplot() +
labs(x = "País",
y = "Producción",
title=" ",
color = 'País')+
theme_cowplot(12)
ggsave(filename = "BoxPlotBan.pdf", width = w, height = h, plot = last_plot())
# plot 2
prod_pin_pai <- prod_pin %>%
filter(Área %in% c('Costa Rica', 'Brasil', 'Filipinas'))
ggplot(prod_pin_pai, mapping = aes(x=Área, y=Valor, color=Área)) +
geom_boxplot() +
labs(x = "País",
y = "Producción",
title=" ",
color = 'País')+
theme_cowplot(12)
ggsave(filename = "BoxPlotPin.pdf", width = w, height = h, plot = last_plot())
# plot 3
prod_caf_pai <- prod_caf %>%
filter(Área %in% c('Costa Rica', 'Colombia', 'Ecuador'))
ggplot(prod_caf_pai, mapping = aes(x=Área, y=Valor, color=Área)) +
geom_boxplot() +
labs(x = "País",
y = "Producción",
title=" ",
color = 'País')+
theme_cowplot(12)
# plot 3
prod_caf_pai <- prod_caf %>%
filter(Área %in% c('Costa Rica', 'Brasil', 'Viet Nam'))
ggplot(prod_caf_pai, mapping = aes(x=Área, y=Valor, color=Área)) +
geom_boxplot() +
labs(x = "País",
y = "Producción",
title=" ",
color = 'País')+
theme_cowplot(12)
ggsave(filename = "BoxPlotCaf.pdf", width = w, height = h, plot = last_plot())
setwd("C:/Users/andre/OneDrive/Documents/Universidad/IIS-2023/Estadística Actuarial I/Proyecto/Proyecto_Estadistica")
# Paquetes para el documento:
library(tidyverse)
library(ggplot2)
library(readxl)
library(xtable)
library(cowplot)
#data inicial (se cargan los datos totales)
data = read.csv('cultivos_global.csv')
#seleccionamos las varibles relevantes.
data_limpia = data %>%
select(c('Área', 'Elemento', 'Producto', 'Año', 'Unidad', 'Valor')) %>%
mutate(Valor = Valor/10000)
# código para la tabla1
# filtramos los datos para obtener la produccion (prod) de bananos (ban) únicamente
prod_ban = data_limpia %>%
filter(Elemento == 'Producción' & Producto == 'Bananos')
# filtramos los paises, creamos los quinquenios y agrupamos por quinquenio (en ese orden)
prod_ban_gr = prod_ban %>%
filter(Área %in% c('Costa Rica', 'Colombia', 'Ecuador')) %>%
mutate(quinquenio = as.integer(cut(Año, breaks = seq(1960, 2025, by = 5)))) %>%
group_by(quinquenio, Área)
# creación de la tabla con los datos que queremos
tabla1 = summarise(prod_ban_gr, minimo=min(Valor, na.rm = TRUE),
promedio=mean(Valor), maximo=max(Valor, na.rm = TRUE),
sd=sd(Valor), median=quantile(Valor, 0.5),
q1=quantile(Valor, 0.25), q3=quantile(Valor, 0.75)
)
# cambiar el nombre de los quinquenios
quinq <- c('1960-1964', '1965-1969', '1970-1974', '1975-1979', '1980-1984',
'1985-1989', '1990-1994', '1995-1999', '2000-2004', '2005-2009',
'2010-2014', '2015-2019', '2020-2024')
tabla1$quinquenio <- quinq[match(tabla1$quinquenio, 1:13)]
#ordenar las variables de la tabla
tabla1 <- tabla1[with(tabla1, order(tabla1$Área)), c(2, 1, 3, 4, 5, 6, 7, 8, 9)]
#pasar la tabla a formado wide
tabla1_id_quin <- tabla1 %>% pivot_wider(id_cols = quinquenio, names_from = Área,
values_from = c(sd, promedio, maximo, minimo, q1, median, q3) )
View(tabla1_id_quin)
tabla1_id_area <- tabla1 %>%
pivot_longer(cols = c(sd, promedio, maximo, minimo, q1, median, q3),
names_to = 'Estadístico', values_to = 'Valor') %>%
pivot_wider(id_cols = c(Área, Estadístico), names_from = quinquenio, values_from = Valor)
View(tabla1_id_area)
View(tabla1_id_area)
